{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{useNavigate}from'react-router-dom';// ‚úÖ „É¨„Çπ„Éù„É≥„Çπ„Éá„Éº„Çø„ÅÆÂûã„ÇíÂÆöÁæ©\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{const[username,setUsername]=useState('');const[password,setPassword]=useState('');const[email,setEmail]=useState('');const[isRegistering,setIsRegistering]=useState(false);const navigate=useNavigate();// **üîπ „É≠„Ç∞„Ç§„É≥Âá¶ÁêÜ**\nconst handleLogin=async()=>{try{const res=await axios.post('http://localhost:5000/api/auth/login',{username,password});localStorage.setItem('token',res.data.token);// ‚úÖ Âûã„Åå„ÅÇ„Çã„ÅÆ„Åß„Ç®„É©„Éº„Å™„Åó\nalert(`„É≠„Ç∞„Ç§„É≥ÊàêÂäü: ${res.data.message}`);navigate('/home');}catch(err){var _err$response,_err$response2,_err$response2$data;// ‚úÖ „Ç®„É©„Éº„ÅÆÂûã„Çí `any` „Å´„Åó„Å¶ÂØæÂøú\nconsole.error('‚ùå „É≠„Ç∞„Ç§„É≥„Ç®„É©„Éº:',((_err$response=err.response)===null||_err$response===void 0?void 0:_err$response.data)||err.message);alert('„É≠„Ç∞„Ç§„É≥Â§±Êïó: '+(((_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.message)||'‰∏çÊòé„Å™„Ç®„É©„Éº'));}};// **üîπ „É¶„Éº„Ç∂„ÉºÁôªÈå≤Âá¶ÁêÜ**\nconst handleRegister=async()=>{try{const res=await axios.post('http://localhost:5000/api/auth/register',{username,password,email});alert(`ÁôªÈå≤ÊàêÂäü: ${res.data.message}`);localStorage.setItem('token',res.data.token);navigate('/home');}catch(err){var _err$response3,_err$response4,_err$response4$data;// ‚úÖ „Ç®„É©„Éº„ÅÆÂûã„Çí `any` „Å´„Åó„Å¶ÂØæÂøú\nconsole.error('‚ùå ÁôªÈå≤„Ç®„É©„Éº:',((_err$response3=err.response)===null||_err$response3===void 0?void 0:_err$response3.data)||err.message);alert('ÁôªÈå≤Â§±Êïó: '+(((_err$response4=err.response)===null||_err$response4===void 0?void 0:(_err$response4$data=_err$response4.data)===null||_err$response4$data===void 0?void 0:_err$response4$data.message)||'‰∏çÊòé„Å™„Ç®„É©„Éº'));}};return/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',marginTop:'50px'},children:[/*#__PURE__*/_jsx(\"h2\",{children:isRegistering?'Êñ∞Ë¶èÁôªÈå≤':'„É≠„Ç∞„Ç§„É≥'}),isRegistering&&/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Email\",value:email,onChange:e=>setEmail(e.target.value),style:{display:'block',margin:'10px auto',padding:'5px'}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Username\",value:username,onChange:e=>setUsername(e.target.value),style:{display:'block',margin:'10px auto',padding:'5px'}}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",value:password,onChange:e=>setPassword(e.target.value),style:{display:'block',margin:'10px auto',padding:'5px'}}),isRegistering?/*#__PURE__*/_jsx(\"button\",{onClick:handleRegister,style:{margin:'10px',padding:'5px'},children:\"\\u767B\\u9332\"}):/*#__PURE__*/_jsx(\"button\",{onClick:handleLogin,style:{margin:'10px',padding:'5px'},children:\"\\u30ED\\u30B0\\u30A4\\u30F3\"}),/*#__PURE__*/_jsx(\"p\",{onClick:()=>setIsRegistering(!isRegistering),style:{color:'blue',cursor:'pointer',marginTop:'10px'},children:isRegistering?'„É≠„Ç∞„Ç§„É≥„ÅØ„Åì„Å°„Çâ':'Êñ∞Ë¶èÁôªÈå≤„ÅØ„Åì„Å°„Çâ'})]});};export default Login;","map":{"version":3,"names":["React","useState","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","Login","username","setUsername","password","setPassword","email","setEmail","isRegistering","setIsRegistering","navigate","handleLogin","res","post","localStorage","setItem","data","token","alert","message","err","_err$response","_err$response2","_err$response2$data","console","error","response","handleRegister","_err$response3","_err$response4","_err$response4$data","style","textAlign","marginTop","children","type","placeholder","value","onChange","e","target","display","margin","padding","onClick","color","cursor"],"sources":["/home/shoma358/Todoapp/frontend/src/Login.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\n// ‚úÖ „É¨„Çπ„Éù„É≥„Çπ„Éá„Éº„Çø„ÅÆÂûã„ÇíÂÆöÁæ©\r\ninterface AuthResponse {\r\n  token: string;\r\n  message: string;\r\n}\r\n\r\nconst Login: React.FC = () => {\r\n  const [username, setUsername] = useState<string>('');\r\n  const [password, setPassword] = useState<string>('');\r\n  const [email, setEmail] = useState<string>('');\r\n  const [isRegistering, setIsRegistering] = useState<boolean>(false);\r\n  const navigate = useNavigate();\r\n\r\n  // **üîπ „É≠„Ç∞„Ç§„É≥Âá¶ÁêÜ**\r\n  const handleLogin = async () => {\r\n    try {\r\n      const res = await axios.post<AuthResponse>('http://localhost:5000/api/auth/login', { username, password });\r\n      localStorage.setItem('token', res.data.token); // ‚úÖ Âûã„Åå„ÅÇ„Çã„ÅÆ„Åß„Ç®„É©„Éº„Å™„Åó\r\n      alert(`„É≠„Ç∞„Ç§„É≥ÊàêÂäü: ${res.data.message}`);\r\n      navigate('/home');\r\n    } catch (err: any) { // ‚úÖ „Ç®„É©„Éº„ÅÆÂûã„Çí `any` „Å´„Åó„Å¶ÂØæÂøú\r\n      console.error('‚ùå „É≠„Ç∞„Ç§„É≥„Ç®„É©„Éº:', err.response?.data || err.message);\r\n      alert('„É≠„Ç∞„Ç§„É≥Â§±Êïó: ' + (err.response?.data?.message || '‰∏çÊòé„Å™„Ç®„É©„Éº'));\r\n    }\r\n  };\r\n\r\n  // **üîπ „É¶„Éº„Ç∂„ÉºÁôªÈå≤Âá¶ÁêÜ**\r\n  const handleRegister = async () => {\r\n    try {\r\n      const res = await axios.post<AuthResponse>('http://localhost:5000/api/auth/register', { username, password, email });\r\n      alert(`ÁôªÈå≤ÊàêÂäü: ${res.data.message}`);\r\n      localStorage.setItem('token', res.data.token);\r\n      navigate('/home');\r\n    } catch (err: any) { // ‚úÖ „Ç®„É©„Éº„ÅÆÂûã„Çí `any` „Å´„Åó„Å¶ÂØæÂøú\r\n      console.error('‚ùå ÁôªÈå≤„Ç®„É©„Éº:', err.response?.data || err.message);\r\n      alert('ÁôªÈå≤Â§±Êïó: ' + (err.response?.data?.message || '‰∏çÊòé„Å™„Ç®„É©„Éº'));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ textAlign: 'center', marginTop: '50px' }}>\r\n      <h2>{isRegistering ? 'Êñ∞Ë¶èÁôªÈå≤' : '„É≠„Ç∞„Ç§„É≥'}</h2>\r\n\r\n      {isRegistering && (\r\n        <input \r\n          type=\"email\" \r\n          placeholder=\"Email\" \r\n          value={email} \r\n          onChange={e => setEmail(e.target.value)} \r\n          style={{ display: 'block', margin: '10px auto', padding: '5px' }}\r\n        />\r\n      )}\r\n\r\n      <input \r\n        type=\"text\" \r\n        placeholder=\"Username\" \r\n        value={username} \r\n        onChange={e => setUsername(e.target.value)} \r\n        style={{ display: 'block', margin: '10px auto', padding: '5px' }}\r\n      />\r\n      \r\n      <input \r\n        type=\"password\" \r\n        placeholder=\"Password\" \r\n        value={password} \r\n        onChange={e => setPassword(e.target.value)} \r\n        style={{ display: 'block', margin: '10px auto', padding: '5px' }}\r\n      />\r\n\r\n      {isRegistering ? (\r\n        <button onClick={handleRegister} style={{ margin: '10px', padding: '5px' }}>ÁôªÈå≤</button>\r\n      ) : (\r\n        <button onClick={handleLogin} style={{ margin: '10px', padding: '5px' }}>„É≠„Ç∞„Ç§„É≥</button>\r\n      )}\r\n\r\n      <p \r\n        onClick={() => setIsRegistering(!isRegistering)} \r\n        style={{ color: 'blue', cursor: 'pointer', marginTop: '10px' }}\r\n      >\r\n        {isRegistering ? '„É≠„Ç∞„Ç§„É≥„ÅØ„Åì„Å°„Çâ' : 'Êñ∞Ë¶èÁôªÈå≤„ÅØ„Åì„Å°„Çâ'}\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,WAAW,KAAQ,kBAAkB,CAE9C;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAMA,KAAM,CAAAC,KAAe,CAAGA,CAAA,GAAM,CAC5B,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGT,QAAQ,CAAS,EAAE,CAAC,CACpD,KAAM,CAACU,QAAQ,CAAEC,WAAW,CAAC,CAAGX,QAAQ,CAAS,EAAE,CAAC,CACpD,KAAM,CAACY,KAAK,CAAEC,QAAQ,CAAC,CAAGb,QAAQ,CAAS,EAAE,CAAC,CAC9C,KAAM,CAACc,aAAa,CAAEC,gBAAgB,CAAC,CAAGf,QAAQ,CAAU,KAAK,CAAC,CAClE,KAAM,CAAAgB,QAAQ,CAAGd,WAAW,CAAC,CAAC,CAE9B;AACA,KAAM,CAAAe,WAAW,CAAG,KAAAA,CAAA,GAAY,CAC9B,GAAI,CACF,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAjB,KAAK,CAACkB,IAAI,CAAe,sCAAsC,CAAE,CAAEX,QAAQ,CAAEE,QAAS,CAAC,CAAC,CAC1GU,YAAY,CAACC,OAAO,CAAC,OAAO,CAAEH,GAAG,CAACI,IAAI,CAACC,KAAK,CAAC,CAAE;AAC/CC,KAAK,CAAC,WAAWN,GAAG,CAACI,IAAI,CAACG,OAAO,EAAE,CAAC,CACpCT,QAAQ,CAAC,OAAO,CAAC,CACnB,CAAE,MAAOU,GAAQ,CAAE,KAAAC,aAAA,CAAAC,cAAA,CAAAC,mBAAA,CAAE;AACnBC,OAAO,CAACC,KAAK,CAAC,YAAY,CAAE,EAAAJ,aAAA,CAAAD,GAAG,CAACM,QAAQ,UAAAL,aAAA,iBAAZA,aAAA,CAAcL,IAAI,GAAII,GAAG,CAACD,OAAO,CAAC,CAC9DD,KAAK,CAAC,UAAU,EAAI,EAAAI,cAAA,CAAAF,GAAG,CAACM,QAAQ,UAAAJ,cAAA,kBAAAC,mBAAA,CAAZD,cAAA,CAAcN,IAAI,UAAAO,mBAAA,iBAAlBA,mBAAA,CAAoBJ,OAAO,GAAI,QAAQ,CAAC,CAAC,CAC/D,CACF,CAAC,CAED;AACA,KAAM,CAAAQ,cAAc,CAAG,KAAAA,CAAA,GAAY,CACjC,GAAI,CACF,KAAM,CAAAf,GAAG,CAAG,KAAM,CAAAjB,KAAK,CAACkB,IAAI,CAAe,yCAAyC,CAAE,CAAEX,QAAQ,CAAEE,QAAQ,CAAEE,KAAM,CAAC,CAAC,CACpHY,KAAK,CAAC,SAASN,GAAG,CAACI,IAAI,CAACG,OAAO,EAAE,CAAC,CAClCL,YAAY,CAACC,OAAO,CAAC,OAAO,CAAEH,GAAG,CAACI,IAAI,CAACC,KAAK,CAAC,CAC7CP,QAAQ,CAAC,OAAO,CAAC,CACnB,CAAE,MAAOU,GAAQ,CAAE,KAAAQ,cAAA,CAAAC,cAAA,CAAAC,mBAAA,CAAE;AACnBN,OAAO,CAACC,KAAK,CAAC,UAAU,CAAE,EAAAG,cAAA,CAAAR,GAAG,CAACM,QAAQ,UAAAE,cAAA,iBAAZA,cAAA,CAAcZ,IAAI,GAAII,GAAG,CAACD,OAAO,CAAC,CAC5DD,KAAK,CAAC,QAAQ,EAAI,EAAAW,cAAA,CAAAT,GAAG,CAACM,QAAQ,UAAAG,cAAA,kBAAAC,mBAAA,CAAZD,cAAA,CAAcb,IAAI,UAAAc,mBAAA,iBAAlBA,mBAAA,CAAoBX,OAAO,GAAI,QAAQ,CAAC,CAAC,CAC7D,CACF,CAAC,CAED,mBACEnB,KAAA,QAAK+B,KAAK,CAAE,CAAEC,SAAS,CAAE,QAAQ,CAAEC,SAAS,CAAE,MAAO,CAAE,CAAAC,QAAA,eACrDpC,IAAA,OAAAoC,QAAA,CAAK1B,aAAa,CAAG,MAAM,CAAG,MAAM,CAAK,CAAC,CAEzCA,aAAa,eACZV,IAAA,UACEqC,IAAI,CAAC,OAAO,CACZC,WAAW,CAAC,OAAO,CACnBC,KAAK,CAAE/B,KAAM,CACbgC,QAAQ,CAAEC,CAAC,EAAIhC,QAAQ,CAACgC,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CACxCN,KAAK,CAAE,CAAEU,OAAO,CAAE,OAAO,CAAEC,MAAM,CAAE,WAAW,CAAEC,OAAO,CAAE,KAAM,CAAE,CAClE,CACF,cAED7C,IAAA,UACEqC,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,UAAU,CACtBC,KAAK,CAAEnC,QAAS,CAChBoC,QAAQ,CAAEC,CAAC,EAAIpC,WAAW,CAACoC,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC3CN,KAAK,CAAE,CAAEU,OAAO,CAAE,OAAO,CAAEC,MAAM,CAAE,WAAW,CAAEC,OAAO,CAAE,KAAM,CAAE,CAClE,CAAC,cAEF7C,IAAA,UACEqC,IAAI,CAAC,UAAU,CACfC,WAAW,CAAC,UAAU,CACtBC,KAAK,CAAEjC,QAAS,CAChBkC,QAAQ,CAAEC,CAAC,EAAIlC,WAAW,CAACkC,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC3CN,KAAK,CAAE,CAAEU,OAAO,CAAE,OAAO,CAAEC,MAAM,CAAE,WAAW,CAAEC,OAAO,CAAE,KAAM,CAAE,CAClE,CAAC,CAEDnC,aAAa,cACZV,IAAA,WAAQ8C,OAAO,CAAEjB,cAAe,CAACI,KAAK,CAAE,CAAEW,MAAM,CAAE,MAAM,CAAEC,OAAO,CAAE,KAAM,CAAE,CAAAT,QAAA,CAAC,cAAE,CAAQ,CAAC,cAEvFpC,IAAA,WAAQ8C,OAAO,CAAEjC,WAAY,CAACoB,KAAK,CAAE,CAAEW,MAAM,CAAE,MAAM,CAAEC,OAAO,CAAE,KAAM,CAAE,CAAAT,QAAA,CAAC,0BAAI,CAAQ,CACtF,cAEDpC,IAAA,MACE8C,OAAO,CAAEA,CAAA,GAAMnC,gBAAgB,CAAC,CAACD,aAAa,CAAE,CAChDuB,KAAK,CAAE,CAAEc,KAAK,CAAE,MAAM,CAAEC,MAAM,CAAE,SAAS,CAAEb,SAAS,CAAE,MAAO,CAAE,CAAAC,QAAA,CAE9D1B,aAAa,CAAG,UAAU,CAAG,UAAU,CACvC,CAAC,EACD,CAAC,CAEV,CAAC,CAED,cAAe,CAAAP,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}